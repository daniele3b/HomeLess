<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"
    />
    <title>Question Management</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="container">
        <div id="app">
          <div class="card">
            <div class="card-body">
              <div class="table-responsive" style="height: 550px">
                <table class="table">
                  <!--  INTESTAZIONE TABELLA  -->
                  <thead class="thead-light">
                    <tr>
                      <th scope="col">ID</th>
                      <th scope="col">TEXT</th>
                      <th scope="col">NEXT QUESTIONS</th>
                      <th scope="col">Detail</th>
                      <th scope="col">Edit</th>
                      <th scope="col">Delete</th>
                    </tr>
                  </thead>

                  <!--  CORPO TABELLA  -->
                  <tbody>
                    <tr v-for="question in questions">
                      <td>{{question.question_id}}</td>
                      <td>{{question.text}}</td>
                      <td>
                        {{question.template_id}}
                        <p v-for="next in question.nextQuestions">
                          {{next.answer}} -> {{next.nextQuestionId}}
                        </p>
                      </td>
                      <td>
                        <p
                          data-placement="top"
                          data-toggle="tooltip"
                          title="Detail"
                        >
                          <button
                            :id="question.question_id"
                            class="btn btn-success btn-xs"
                            data-title="Detail"
                            data-toggle="modal"
                            data-target="#detail"
                            style="height: 10px; width: 20px"
                          >
                            <span class="glyphicon glyphicon-trash"></span>
                          </button>
                        </p>
                      </td>
                      <td>
                        <p
                          data-placement="top"
                          data-toggle="tooltip"
                          title="Edit"
                        >
                          <button
                            :id="question.question_id"
                            class="btn btn-primary btn-xs"
                            data-title="Edit"
                            data-toggle="modal"
                            data-target="#edit"
                          >
                            <span class="glyphicon glyphicon-trash"></span>
                          </button>
                        </p>
                      </td>
                      <td>
                        <p
                          data-placement="top"
                          data-toggle="tooltip"
                          title="Delete"
                        >
                          <button
                            :id="question.question_id"
                            class="btn btn-danger btn-xs"
                            data-title="Delete"
                            data-toggle="modal"
                            data-target="#delete"
                          >
                            <span class="glyphicon glyphicon-pencil"></span>
                          </button>
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      var app = new Vue({
        el: "#app",
        data: {
          questions: [],
          currentQuestion: "",
          formVisible: false,
        },

        beforeCreate: function () {
          this.$http.get("http://localhost:8080/getQuestionsENG/2").then(
            (response) => {
              this.questions = response.body;
            },
            (response) => {
              // error callback
            }
          );
        },

        methods: {},
      });
    </script>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"
    ></script>
  </body>
</html>

<style>
  .inserimento {
    width: 220px;
    height: 30px;
  }

  input[type="submit"] {
    background-color: #4caf50;
    cursor: pointer;
    /*border-radius: 20px;*/
  }

  #card-form {
    background-color: #fdc513;
    width: 400px;
    height: 750px;
    -webkit-box-shadow: 10px 10px 5px -5px rgba(250, 205, 5, 0.75);
    -moz-box-shadow: 10px 10px 5px -5px rgba(250, 205, 5, 0.75);
    box-shadow: 10px 10px 5px -5px rgba(250, 205, 5, 0.75);
  }

  .card {
    background-color: #fdc513;
    -webkit-box-shadow: 10px 10px 5px -5px rgba(250, 205, 5, 0.75);
    -moz-box-shadow: 10px 10px 5px -5px rgba(250, 205, 5, 0.75);
    box-shadow: 10px 10px 5px -5px rgba(250, 205, 5, 0.75);
  }

  body {
    background-color: #fff7e0;
  }

  .card-text {
    position: relative;
  }
</style>
